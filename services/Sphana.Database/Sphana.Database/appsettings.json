{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Grpc": "Information"
    }
  },
  "AllowedHosts": "*",
  "Kestrel": {
    "EndpointDefaults": {
      "Protocols": "Http2"
    }
  },
  "Sphana": {
    "Debug": {
      "EnableVerboseLogging": true,
      "LogTokenizedText": true,
      "LogIngestionData": true
    },
    "Models": {
      "EmbeddingModelPath": "/src/Sphana.Database/Resources/Models/embedding.int8.onnx",
      "RelationExtractionModelPath": "/src/Sphana.Database/Resources/Models/relation.int8.onnx",
      "NerModelPath": "/src/Sphana.Database/Resources/Models/ner.int8.onnx",
      "GnnRankerModelPath": "/src/Sphana.Database/Resources/Models/gnn.onnx",
      "LlmGeneratorModelPath": "/src/Sphana.Database/Resources/Models/llm_generator.int8.onnx",
      "LlmTokenizerPath": "/src/Sphana.Database/Resources/Models/tokenizer.json",
      "VocabulariesPath": "/src/Sphana.Database/Resources/Vocabularies/base_uncased.txt",
      "PreloadModelsOnStartup": true,
      "PreloadModelsInParallel": false,
      "EmbeddingDimension": 128,
      "UseGpu": true,
      "GpuDeviceId": 0,
      "CudaComputeCapability": "8.0",
      "BatchSize": 32,
      "MaxBatchWaitMs": 5,
      "IntraOpNumThreads": 4,
      "InterOpNumThreads": 4
    },
    "VectorIndex": {
      "IndexType": "Hnsw",
      "Dimension": 128,
      "DistanceMetric": "Cosine",
      "HnswM": 16,
      "HnswEfConstruction": 200,
      "HnswEfSearch": 50,
      "IvfNClusters": 1000,
      "IvfNProbes": 10,
      "UseQuantization": true,
      "NormalizeEmbeddings": true,
      "StoragePath": "data/vector_index",
      "MaxResults": 100
    },
    "KnowledgeGraph": {
      "GraphStoragePath": "data/knowledge_graph",
      "PropertyStoragePath": "data/properties",
      "UseBfsLayout": true,
      "PcsrSlackRatio": 0.2,
      "BlockSize": 4096,
      "EnableExternalMemory": true,
      "MemoryLimitMb": 4096,
      "MaxTraversalDepth": 5,
      "RebalanceThreshold": 0.8
    },
    "Cache": {
      "InMemoryCacheSizeMb": 1024,
      "ExpirationMinutes": 60,
      "CacheEmbeddings": true,
      "CacheSubgraphs": true,
      "CacheGnnOutputs": true
    },
    "Ingestion": {
      "ChunkSize": 512,
      "ChunkOverlap": 50,
      "MaxConcurrency": 10,
      "BatchSize": 100,
      "EnableRelationExtraction": true,
      "MinRelationConfidence": 0.5
    },
    "Query": {
      "TargetP95LatencyMs": 50,
      "VectorSearchTopK": 20,
      "MaxSubgraphs": 10,
      "EnableGnnReranking": true,
      "EnableLlmGeneration": true,
      "MaxGenerationTokens": 512,
      "VectorSearchWeight": 0.6,
      "GraphSearchWeight": 0.4
    }
  }
}
